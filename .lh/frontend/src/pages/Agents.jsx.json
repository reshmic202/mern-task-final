{
    "sourceFile": "frontend/src/pages/Agents.jsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 34,
            "patches": [
                {
                    "date": 1738690540000,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1738695837375,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -12,8 +12,9 @@\n \r\n   useEffect(() => {\r\n     const fetchAgents = async () => {\r\n       try {\r\n+        let agentRes=await fetch(`${process.env.REACT_APP_API_URL}/agents/count`)\r\n         const { data } = await axios.get(\"/api/agents\");\r\n         setAgents(data.newAgent);\r\n       } catch (error) {\r\n         console.error(\"Error fetching agents:\", error);\r\n"
                },
                {
                    "date": 1738695848003,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -12,9 +12,9 @@\n \r\n   useEffect(() => {\r\n     const fetchAgents = async () => {\r\n       try {\r\n-        let agentRes=await fetch(`${process.env.REACT_APP_API_URL}/agents/count`)\r\n+        let newAgent=await fetch(`${process.env.REACT_APP_API_URL}/agents`)\r\n         const { data } = await axios.get(\"/api/agents\");\r\n         setAgents(data.newAgent);\r\n       } catch (error) {\r\n         console.error(\"Error fetching agents:\", error);\r\n"
                },
                {
                    "date": 1738695854616,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -13,9 +13,8 @@\n   useEffect(() => {\r\n     const fetchAgents = async () => {\r\n       try {\r\n         let newAgent=await fetch(`${process.env.REACT_APP_API_URL}/agents`)\r\n-        const { data } = await axios.get(\"/api/agents\");\r\n         setAgents(data.newAgent);\r\n       } catch (error) {\r\n         console.error(\"Error fetching agents:\", error);\r\n       }\r\n"
                },
                {
                    "date": 1738695860492,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -13,8 +13,9 @@\n   useEffect(() => {\r\n     const fetchAgents = async () => {\r\n       try {\r\n         let newAgent=await fetch(`${process.env.REACT_APP_API_URL}/agents`)\r\n+        \r\n         setAgents(data.newAgent);\r\n       } catch (error) {\r\n         console.error(\"Error fetching agents:\", error);\r\n       }\r\n"
                },
                {
                    "date": 1738695868806,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,115 @@\n+import { useEffect, useState } from \"react\";\r\n+import axios from \"../api\";\r\n+import { useNavigate } from \"react-router-dom\";\r\n+\r\n+function Agents() {\r\n+  const [agents, setAgents] = useState([]);\r\n+  const [name, setName] = useState(\"\");\r\n+  const [email, setEmail] = useState(\"\");\r\n+  const [mobile, setMobile] = useState(\"\");\r\n+  const [password, setPassword] = useState(\"\");\r\n+  const navigate = useNavigate();\r\n+\r\n+  useEffect(() => {\r\n+    const fetchAgents = async () => {\r\n+      try {\r\n+        let newAgent=await fetch(`${process.env.REACT_APP_API_URL}/agents`)\r\n+        newAgent=await newAgent.json()\r\n+        setAgents(data.newAgent);\r\n+      } catch (error) {\r\n+        console.error(\"Error fetching agents:\", error);\r\n+      }\r\n+    };\r\n+    fetchAgents();\r\n+  }, []);\r\n+\r\n+  const handleAddAgent = async (e) => {\r\n+    e.preventDefault();\r\n+    // try {\r\n+    //   await axios.post(\"/api/agents/add-agent\", { name, email, mobile, password });\r\n+    //   alert(\"Agent added successfully\");\r\n+    //   window.location.reload();\r\n+    // } catch (error) {\r\n+    //   alert(\"Error adding agent\");\r\n+    // }\r\n+  };\r\n+\r\n+  return (\r\n+    <div className=\"flex flex-col items-center min-h-screen bg-gray-100 p-6\">\r\n+      <div className=\"w-full max-w-3xl bg-white shadow-lg rounded-2xl p-8\">\r\n+        <h1 className=\"text-3xl font-bold text-center text-gray-800 mb-6\">Manage Agents</h1>\r\n+\r\n+        {/* Add Agent Form */}\r\n+        <form onSubmit={handleAddAgent} className=\"space-y-4\">\r\n+          <input\r\n+            type=\"text\"\r\n+            placeholder=\"Name\"\r\n+            value={name}\r\n+            onChange={(e) => setName(e.target.value)}\r\n+            required\r\n+            className=\"w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400\"\r\n+          />\r\n+          <input\r\n+            type=\"email\"\r\n+            placeholder=\"Email\"\r\n+            value={email}\r\n+            onChange={(e) => setEmail(e.target.value)}\r\n+            required\r\n+            className=\"w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400\"\r\n+          />\r\n+          <input\r\n+            type=\"text\"\r\n+            placeholder=\"Mobile\"\r\n+            value={mobile}\r\n+            onChange={(e) => setMobile(e.target.value)}\r\n+            required\r\n+            className=\"w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400\"\r\n+          />\r\n+          <input\r\n+            type=\"password\"\r\n+            placeholder=\"Password\"\r\n+            value={password}\r\n+            onChange={(e) => setPassword(e.target.value)}\r\n+            required\r\n+            className=\"w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400\"\r\n+          />\r\n+          <button\r\n+            type=\"submit\"\r\n+            className=\"w-full bg-blue-600 text-white font-semibold py-3 rounded-lg hover:bg-blue-700 transition duration-300\"\r\n+          >\r\n+            Add Agent\r\n+          </button>\r\n+        </form>\r\n+\r\n+        {/* Agents List */}\r\n+        <h2 className=\"text-2xl font-bold text-gray-700 mt-8 mb-4\">Agents List</h2>\r\n+        <ul className=\"w-full space-y-2\">\r\n+          {agents.length > 0 ? (\r\n+            agents.map((agent) => (\r\n+              <li\r\n+                key={agent._id}\r\n+                className=\"bg-gray-100 p-3 rounded-lg shadow-md flex justify-between items-center\"\r\n+              >\r\n+                <span className=\"font-medium text-gray-800\">{agent.name}</span>\r\n+                <span className=\"text-gray-600\">{agent.email}</span>\r\n+                <span className=\"text-gray-600\">{agent.mobile}</span>\r\n+              </li>\r\n+            ))\r\n+          ) : (\r\n+            <p className=\"text-gray-500 text-center\">No agents found</p>\r\n+          )}\r\n+        </ul>\r\n+\r\n+        {/* Back Button */}\r\n+        <button\r\n+          onClick={() => navigate(\"/dashboard\")}\r\n+          className=\"w-full mt-6 bg-gray-600 text-white font-semibold py-3 rounded-lg hover:bg-gray-700 transition duration-300\"\r\n+        >\r\n+          Back to Dashboard\r\n+        </button>\r\n+      </div>\r\n+    </div>\r\n+  );\r\n+}\r\n+\r\n+export default Agents;\r\n"
                },
                {
                    "date": 1738695876152,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -14,9 +14,9 @@\n     const fetchAgents = async () => {\r\n       try {\r\n         let newAgent=await fetch(`${process.env.REACT_APP_API_URL}/agents`)\r\n         newAgent=await newAgent.json()\r\n-        setAgents(data.newAgent);\r\n+        setAgents(newAgent);\r\n       } catch (error) {\r\n         console.error(\"Error fetching agents:\", error);\r\n       }\r\n     };\r\n@@ -112,119 +112,4 @@\n   );\r\n }\r\n \r\n export default Agents;\r\n-import { useEffect, useState } from \"react\";\r\n-import axios from \"../api\";\r\n-import { useNavigate } from \"react-router-dom\";\r\n-\r\n-function Agents() {\r\n-  const [agents, setAgents] = useState([]);\r\n-  const [name, setName] = useState(\"\");\r\n-  const [email, setEmail] = useState(\"\");\r\n-  const [mobile, setMobile] = useState(\"\");\r\n-  const [password, setPassword] = useState(\"\");\r\n-  const navigate = useNavigate();\r\n-\r\n-  useEffect(() => {\r\n-    const fetchAgents = async () => {\r\n-      try {\r\n-        let newAgent=await fetch(`${process.env.REACT_APP_API_URL}/agents`)\r\n-        \r\n-        setAgents(data.newAgent);\r\n-      } catch (error) {\r\n-        console.error(\"Error fetching agents:\", error);\r\n-      }\r\n-    };\r\n-    fetchAgents();\r\n-  }, []);\r\n-\r\n-  const handleAddAgent = async (e) => {\r\n-    e.preventDefault();\r\n-    // try {\r\n-    //   await axios.post(\"/api/agents/add-agent\", { name, email, mobile, password });\r\n-    //   alert(\"Agent added successfully\");\r\n-    //   window.location.reload();\r\n-    // } catch (error) {\r\n-    //   alert(\"Error adding agent\");\r\n-    // }\r\n-  };\r\n-\r\n-  return (\r\n-    <div className=\"flex flex-col items-center min-h-screen bg-gray-100 p-6\">\r\n-      <div className=\"w-full max-w-3xl bg-white shadow-lg rounded-2xl p-8\">\r\n-        <h1 className=\"text-3xl font-bold text-center text-gray-800 mb-6\">Manage Agents</h1>\r\n-\r\n-        {/* Add Agent Form */}\r\n-        <form onSubmit={handleAddAgent} className=\"space-y-4\">\r\n-          <input\r\n-            type=\"text\"\r\n-            placeholder=\"Name\"\r\n-            value={name}\r\n-            onChange={(e) => setName(e.target.value)}\r\n-            required\r\n-            className=\"w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400\"\r\n-          />\r\n-          <input\r\n-            type=\"email\"\r\n-            placeholder=\"Email\"\r\n-            value={email}\r\n-            onChange={(e) => setEmail(e.target.value)}\r\n-            required\r\n-            className=\"w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400\"\r\n-          />\r\n-          <input\r\n-            type=\"text\"\r\n-            placeholder=\"Mobile\"\r\n-            value={mobile}\r\n-            onChange={(e) => setMobile(e.target.value)}\r\n-            required\r\n-            className=\"w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400\"\r\n-          />\r\n-          <input\r\n-            type=\"password\"\r\n-            placeholder=\"Password\"\r\n-            value={password}\r\n-            onChange={(e) => setPassword(e.target.value)}\r\n-            required\r\n-            className=\"w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400\"\r\n-          />\r\n-          <button\r\n-            type=\"submit\"\r\n-            className=\"w-full bg-blue-600 text-white font-semibold py-3 rounded-lg hover:bg-blue-700 transition duration-300\"\r\n-          >\r\n-            Add Agent\r\n-          </button>\r\n-        </form>\r\n-\r\n-        {/* Agents List */}\r\n-        <h2 className=\"text-2xl font-bold text-gray-700 mt-8 mb-4\">Agents List</h2>\r\n-        <ul className=\"w-full space-y-2\">\r\n-          {agents.length > 0 ? (\r\n-            agents.map((agent) => (\r\n-              <li\r\n-                key={agent._id}\r\n-                className=\"bg-gray-100 p-3 rounded-lg shadow-md flex justify-between items-center\"\r\n-              >\r\n-                <span className=\"font-medium text-gray-800\">{agent.name}</span>\r\n-                <span className=\"text-gray-600\">{agent.email}</span>\r\n-                <span className=\"text-gray-600\">{agent.mobile}</span>\r\n-              </li>\r\n-            ))\r\n-          ) : (\r\n-            <p className=\"text-gray-500 text-center\">No agents found</p>\r\n-          )}\r\n-        </ul>\r\n-\r\n-        {/* Back Button */}\r\n-        <button\r\n-          onClick={() => navigate(\"/dashboard\")}\r\n-          className=\"w-full mt-6 bg-gray-600 text-white font-semibold py-3 rounded-lg hover:bg-gray-700 transition duration-300\"\r\n-        >\r\n-          Back to Dashboard\r\n-        </button>\r\n-      </div>\r\n-    </div>\r\n-  );\r\n-}\r\n-\r\n-export default Agents;\r\n"
                },
                {
                    "date": 1738695933676,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -14,9 +14,9 @@\n     const fetchAgents = async () => {\r\n       try {\r\n         let newAgent=await fetch(`${process.env.REACT_APP_API_URL}/agents`)\r\n         newAgent=await newAgent.json()\r\n-        setAgents(newAgent);\r\n+        setAgents(newAgent.newAgent);\r\n       } catch (error) {\r\n         console.error(\"Error fetching agents:\", error);\r\n       }\r\n     };\r\n"
                },
                {
                    "date": 1738696198364,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -24,8 +24,29 @@\n   }, []);\r\n \r\n   const handleAddAgent = async (e) => {\r\n     e.preventDefault();\r\n+    try {\r\n+              let res=await fetch(`${process.env.REACT_APP_API_URL}/auth/login`,{\r\n+                method:\"POST\",\r\n+                headers:{\r\n+                  'content-type':\"application/json\"\r\n+                },\r\n+                body:JSON.stringify({email,password})\r\n+              })\r\n+              const status=res.status;\r\n+              res=await res.json();\r\n+              if(status===200){\r\n+                toast.success(res.message)\r\n+                localStorage.setItem('token',JSON.stringify(res.token));\r\n+                window.location.href=\"/dashboard\";\r\n+              }else{\r\n+                toast.error(res.message)\r\n+              }\r\n+              console.log(res)\r\n+            } catch (error) {\r\n+              console.log(error.message)\r\n+            }\r\n     // try {\r\n     //   await axios.post(\"/api/agents/add-agent\", { name, email, mobile, password });\r\n     //   alert(\"Agent added successfully\");\r\n     //   window.location.reload();\r\n"
                },
                {
                    "date": 1738696211524,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -12,10 +12,10 @@\n \r\n   useEffect(() => {\r\n     const fetchAgents = async () => {\r\n       try {\r\n-        let newAgent=await fetch(`${process.env.REACT_APP_API_URL}/agents`)\r\n-        newAgent=await newAgent.json()\r\n+        let newAgent = await fetch(`${process.env.REACT_APP_API_URL}/agents`)\r\n+        newAgent = await newAgent.json()\r\n         setAgents(newAgent.newAgent);\r\n       } catch (error) {\r\n         console.error(\"Error fetching agents:\", error);\r\n       }\r\n@@ -25,28 +25,28 @@\n \r\n   const handleAddAgent = async (e) => {\r\n     e.preventDefault();\r\n     try {\r\n-              let res=await fetch(`${process.env.REACT_APP_API_URL}/auth/login`,{\r\n-                method:\"POST\",\r\n-                headers:{\r\n-                  'content-type':\"application/json\"\r\n-                },\r\n-                body:JSON.stringify({email,password})\r\n-              })\r\n-              const status=res.status;\r\n-              res=await res.json();\r\n-              if(status===200){\r\n-                toast.success(res.message)\r\n-                localStorage.setItem('token',JSON.stringify(res.token));\r\n-                window.location.href=\"/dashboard\";\r\n-              }else{\r\n-                toast.error(res.message)\r\n-              }\r\n-              console.log(res)\r\n-            } catch (error) {\r\n-              console.log(error.message)\r\n-            }\r\n+      let res = await fetch(`${process.env.REACT_APP_API_URL}/agents/add-agent`, {\r\n+        method: \"POST\",\r\n+        headers: {\r\n+          'content-type': \"application/json\"\r\n+        },\r\n+        body: JSON.stringify({ email, password })\r\n+      })\r\n+      const status = res.status;\r\n+      res = await res.json();\r\n+      if (status === 200) {\r\n+        toast.success(res.message)\r\n+        localStorage.setItem('token', JSON.stringify(res.token));\r\n+        window.location.href = \"/dashboard\";\r\n+      } else {\r\n+        toast.error(res.message)\r\n+      }\r\n+      console.log(res)\r\n+    } catch (error) {\r\n+      console.log(error.message)\r\n+    }\r\n     // try {\r\n     //   await axios.post(\"/api/agents/add-agent\", { name, email, mobile, password });\r\n     //   alert(\"Agent added successfully\");\r\n     //   window.location.reload();\r\n"
                },
                {
                    "date": 1738696224796,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -30,9 +30,9 @@\n         method: \"POST\",\r\n         headers: {\r\n           'content-type': \"application/json\"\r\n         },\r\n-        body: JSON.stringify({ email, password })\r\n+        body: JSON.stringify({ name, email, mobile, password })\r\n       })\r\n       const status = res.status;\r\n       res = await res.json();\r\n       if (status === 200) {\r\n"
                },
                {
                    "date": 1738696238881,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -45,15 +45,9 @@\n       console.log(res)\r\n     } catch (error) {\r\n       console.log(error.message)\r\n     }\r\n-    // try {\r\n-    //   await axios.post(\"/api/agents/add-agent\", { name, email, mobile, password });\r\n-    //   alert(\"Agent added successfully\");\r\n-    //   window.location.reload();\r\n-    // } catch (error) {\r\n-    //   alert(\"Error adding agent\");\r\n-    // }\r\n+   \r\n   };\r\n \r\n   return (\r\n     <div className=\"flex flex-col items-center min-h-screen bg-gray-100 p-6\">\r\n"
                },
                {
                    "date": 1738696244430,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -36,10 +36,8 @@\n       const status = res.status;\r\n       res = await res.json();\r\n       if (status === 200) {\r\n         toast.success(res.message)\r\n-        localStorage.setItem('token', JSON.stringify(res.token));\r\n-        window.location.href = \"/dashboard\";\r\n       } else {\r\n         toast.error(res.message)\r\n       }\r\n       console.log(res)\r\n"
                },
                {
                    "date": 1738696301756,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -34,9 +34,9 @@\n         body: JSON.stringify({ name, email, mobile, password })\r\n       })\r\n       const status = res.status;\r\n       res = await res.json();\r\n-      if (status === 200) {\r\n+      if (status === 201) {\r\n         toast.success(res.message)\r\n       } else {\r\n         toast.error(res.message)\r\n       }\r\n"
                },
                {
                    "date": 1738696309299,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,7 +1,8 @@\n import { useEffect, useState } from \"react\";\r\n import axios from \"../api\";\r\n import { useNavigate } from \"react-router-dom\";\r\n+import { toast } from \"react-toastify\";\r\n \r\n function Agents() {\r\n   const [agents, setAgents] = useState([]);\r\n   const [name, setName] = useState(\"\");\r\n"
                },
                {
                    "date": 1738696323187,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -44,11 +44,12 @@\n       console.log(res)\r\n     } catch (error) {\r\n       console.log(error.message)\r\n     }\r\n-   \r\n   };\r\n \r\n+  useEffect(())\r\n+\r\n   return (\r\n     <div className=\"flex flex-col items-center min-h-screen bg-gray-100 p-6\">\r\n       <div className=\"w-full max-w-3xl bg-white shadow-lg rounded-2xl p-8\">\r\n         <h1 className=\"text-3xl font-bold text-center text-gray-800 mb-6\">Manage Agents</h1>\r\n"
                },
                {
                    "date": 1738696328807,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -46,9 +46,11 @@\n       console.log(error.message)\r\n     }\r\n   };\r\n \r\n-  useEffect(())\r\n+  useEffect(()=>{\r\n+    \r\n+  })\r\n \r\n   return (\r\n     <div className=\"flex flex-col items-center min-h-screen bg-gray-100 p-6\">\r\n       <div className=\"w-full max-w-3xl bg-white shadow-lg rounded-2xl p-8\">\r\n"
                },
                {
                    "date": 1738696336327,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -47,11 +47,11 @@\n     }\r\n   };\r\n \r\n   useEffect(()=>{\r\n-    \r\n-  })\r\n \r\n+  },[agents])\r\n+\r\n   return (\r\n     <div className=\"flex flex-col items-center min-h-screen bg-gray-100 p-6\">\r\n       <div className=\"w-full max-w-3xl bg-white shadow-lg rounded-2xl p-8\">\r\n         <h1 className=\"text-3xl font-bold text-center text-gray-800 mb-6\">Manage Agents</h1>\r\n"
                },
                {
                    "date": 1738696341580,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -47,9 +47,9 @@\n     }\r\n   };\r\n \r\n   useEffect(()=>{\r\n-\r\n+    fet\r\n   },[agents])\r\n \r\n   return (\r\n     <div className=\"flex flex-col items-center min-h-screen bg-gray-100 p-6\">\r\n"
                },
                {
                    "date": 1738696348210,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -10,18 +10,18 @@\n   const [mobile, setMobile] = useState(\"\");\r\n   const [password, setPassword] = useState(\"\");\r\n   const navigate = useNavigate();\r\n \r\n+  const fetchAgents = async () => {\r\n+    try {\r\n+      let newAgent = await fetch(`${process.env.REACT_APP_API_URL}/agents`)\r\n+      newAgent = await newAgent.json()\r\n+      setAgents(newAgent.newAgent);\r\n+    } catch (error) {\r\n+      console.error(\"Error fetching agents:\", error);\r\n+    }\r\n+  };\r\n   useEffect(() => {\r\n-    const fetchAgents = async () => {\r\n-      try {\r\n-        let newAgent = await fetch(`${process.env.REACT_APP_API_URL}/agents`)\r\n-        newAgent = await newAgent.json()\r\n-        setAgents(newAgent.newAgent);\r\n-      } catch (error) {\r\n-        console.error(\"Error fetching agents:\", error);\r\n-      }\r\n-    };\r\n     fetchAgents();\r\n   }, []);\r\n \r\n   const handleAddAgent = async (e) => {\r\n"
                },
                {
                    "date": 1738696354819,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -47,9 +47,9 @@\n     }\r\n   };\r\n \r\n   useEffect(()=>{\r\n-    fet\r\n+    fetchAgents()\r\n   },[agents])\r\n \r\n   return (\r\n     <div className=\"flex flex-col items-center min-h-screen bg-gray-100 p-6\">\r\n"
                },
                {
                    "date": 1738696417048,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -48,9 +48,9 @@\n   };\r\n \r\n   useEffect(()=>{\r\n     fetchAgents()\r\n-  },[agents])\r\n+  },[agents,handleAddAgent])\r\n \r\n   return (\r\n     <div className=\"flex flex-col items-center min-h-screen bg-gray-100 p-6\">\r\n       <div className=\"w-full max-w-3xl bg-white shadow-lg rounded-2xl p-8\">\r\n"
                },
                {
                    "date": 1738696426283,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -37,8 +37,9 @@\n       const status = res.status;\r\n       res = await res.json();\r\n       if (status === 201) {\r\n         toast.success(res.message)\r\n+        \r\n       } else {\r\n         toast.error(res.message)\r\n       }\r\n       console.log(res)\r\n@@ -48,9 +49,9 @@\n   };\r\n \r\n   useEffect(()=>{\r\n     fetchAgents()\r\n-  },[agents,handleAddAgent])\r\n+  },[handleAddAgent])\r\n \r\n   return (\r\n     <div className=\"flex flex-col items-center min-h-screen bg-gray-100 p-6\">\r\n       <div className=\"w-full max-w-3xl bg-white shadow-lg rounded-2xl p-8\">\r\n"
                },
                {
                    "date": 1738696431876,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -37,8 +37,11 @@\n       const status = res.status;\r\n       res = await res.json();\r\n       if (status === 201) {\r\n         toast.success(res.message)\r\n+        setName(\"\")\r\n+        setEmail(\"\")\r\n+        setMobile(\"\")\r\n         \r\n       } else {\r\n         toast.error(res.message)\r\n       }\r\n"
                },
                {
                    "date": 1738919218351,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -9,8 +9,9 @@\n   const [email, setEmail] = useState(\"\");\r\n   const [mobile, setMobile] = useState(\"\");\r\n   const [password, setPassword] = useState(\"\");\r\n   const navigate = useNavigate();\r\n+  \r\n \r\n   const fetchAgents = async () => {\r\n     try {\r\n       let newAgent = await fetch(`${process.env.REACT_APP_API_URL}/agents`)\r\n@@ -40,9 +41,9 @@\n         toast.success(res.message)\r\n         setName(\"\")\r\n         setEmail(\"\")\r\n         setMobile(\"\")\r\n-        \r\n+        setPassword(\"\")\r\n       } else {\r\n         toast.error(res.message)\r\n       }\r\n       console.log(res)\r\n"
                },
                {
                    "date": 1738919227512,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -9,9 +9,9 @@\n   const [email, setEmail] = useState(\"\");\r\n   const [mobile, setMobile] = useState(\"\");\r\n   const [password, setPassword] = useState(\"\");\r\n   const navigate = useNavigate();\r\n-  \r\n+  const [currentAgentList,setCurrentAgentList] = useState(\"\");\r\n \r\n   const fetchAgents = async () => {\r\n     try {\r\n       let newAgent = await fetch(`${process.env.REACT_APP_API_URL}/agents`)\r\n"
                },
                {
                    "date": 1738919248238,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -108,8 +108,9 @@\n         <ul className=\"w-full space-y-2\">\r\n           {agents.length > 0 ? (\r\n             agents.map((agent) => (\r\n               <li\r\n+                onClick={}\r\n                 key={agent._id}\r\n                 className=\"bg-gray-100 p-3 rounded-lg shadow-md flex justify-between items-center\"\r\n               >\r\n                 <span className=\"font-medium text-gray-800\">{agent.name}</span>\r\n"
                },
                {
                    "date": 1738919262991,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -108,9 +108,11 @@\n         <ul className=\"w-full space-y-2\">\r\n           {agents.length > 0 ? (\r\n             agents.map((agent) => (\r\n               <li\r\n-                onClick={}\r\n+                onClick={()=>{\r\n+                  setCurrentAgentList(agent)\r\n+                }}\r\n                 key={agent._id}\r\n                 className=\"bg-gray-100 p-3 rounded-lg shadow-md flex justify-between items-center\"\r\n               >\r\n                 <span className=\"font-medium text-gray-800\">{agent.name}</span>\r\n"
                },
                {
                    "date": 1738919282926,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -109,9 +109,9 @@\n           {agents.length > 0 ? (\r\n             agents.map((agent) => (\r\n               <li\r\n                 onClick={()=>{\r\n-                  setCurrentAgentList(agent)\r\n+                  setCurrentAgentList(agent._id)\r\n                 }}\r\n                 key={agent._id}\r\n                 className=\"bg-gray-100 p-3 rounded-lg shadow-md flex justify-between items-center\"\r\n               >\r\n@@ -132,8 +132,12 @@\n         >\r\n           Back to Dashboard\r\n         </button>\r\n       </div>\r\n+\r\n+      {\r\n+        \r\n+      }\r\n     </div>\r\n   );\r\n }\r\n \r\n"
                },
                {
                    "date": 1738919290280,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -134,9 +134,10 @@\n         </button>\r\n       </div>\r\n \r\n       {\r\n-        \r\n+        currentAgentList && (\r\n+        )\r\n       }\r\n     </div>\r\n   );\r\n }\r\n"
                },
                {
                    "date": 1738919358893,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -135,8 +135,9 @@\n       </div>\r\n \r\n       {\r\n         currentAgentList && (\r\n+          <di></di>\r\n         )\r\n       }\r\n     </div>\r\n   );\r\n"
                },
                {
                    "date": 1738919367781,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -135,9 +135,10 @@\n       </div>\r\n \r\n       {\r\n         currentAgentList && (\r\n-          <di></di>\r\n+          <div>\r\n+          </div>\r\n         )\r\n       }\r\n     </div>\r\n   );\r\n"
                },
                {
                    "date": 1738919383600,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -24,8 +24,10 @@\n   useEffect(() => {\r\n     fetchAgents();\r\n   }, []);\r\n \r\n+  \r\n+\r\n   const handleAddAgent = async (e) => {\r\n     e.preventDefault();\r\n     try {\r\n       let res = await fetch(`${process.env.REACT_APP_API_URL}/agents/add-agent`, {\r\n@@ -136,8 +138,11 @@\n \r\n       {\r\n         currentAgentList && (\r\n           <div>\r\n+            {\r\n+\r\n+            }\r\n           </div>\r\n         )\r\n       }\r\n     </div>\r\n"
                },
                {
                    "date": 1738919398105,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -9,9 +9,9 @@\n   const [email, setEmail] = useState(\"\");\r\n   const [mobile, setMobile] = useState(\"\");\r\n   const [password, setPassword] = useState(\"\");\r\n   const navigate = useNavigate();\r\n-  const [currentAgentList,setCurrentAgentList] = useState();\r\n+  const [currentAgentList,setCurrentAgentList] = useState([]);\r\n \r\n   const fetchAgents = async () => {\r\n     try {\r\n       let newAgent = await fetch(`${process.env.REACT_APP_API_URL}/agents`)\r\n"
                },
                {
                    "date": 1738924978661,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -45,9 +45,9 @@\n         method: \"POST\",\r\n         headers: {\r\n           'content-type': \"application/json\"\r\n         },\r\n-        body: JSON.stringify({ name, email, mobile, password,})\r\n+        body: JSON.stringify({ name, email, mobile, password, })\r\n       })\r\n       const status = res.status;\r\n       res = await res.json();\r\n       if (status === 201) {\r\n"
                }
            ],
            "date": 1738690540000,
            "name": "Commit-0",
            "content": "import { useEffect, useState } from \"react\";\r\nimport axios from \"../api\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nfunction Agents() {\r\n  const [agents, setAgents] = useState([]);\r\n  const [name, setName] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [mobile, setMobile] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    const fetchAgents = async () => {\r\n      try {\r\n        const { data } = await axios.get(\"/api/agents\");\r\n        setAgents(data.newAgent);\r\n      } catch (error) {\r\n        console.error(\"Error fetching agents:\", error);\r\n      }\r\n    };\r\n    fetchAgents();\r\n  }, []);\r\n\r\n  const handleAddAgent = async (e) => {\r\n    e.preventDefault();\r\n    // try {\r\n    //   await axios.post(\"/api/agents/add-agent\", { name, email, mobile, password });\r\n    //   alert(\"Agent added successfully\");\r\n    //   window.location.reload();\r\n    // } catch (error) {\r\n    //   alert(\"Error adding agent\");\r\n    // }\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex flex-col items-center min-h-screen bg-gray-100 p-6\">\r\n      <div className=\"w-full max-w-3xl bg-white shadow-lg rounded-2xl p-8\">\r\n        <h1 className=\"text-3xl font-bold text-center text-gray-800 mb-6\">Manage Agents</h1>\r\n\r\n        {/* Add Agent Form */}\r\n        <form onSubmit={handleAddAgent} className=\"space-y-4\">\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Name\"\r\n            value={name}\r\n            onChange={(e) => setName(e.target.value)}\r\n            required\r\n            className=\"w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400\"\r\n          />\r\n          <input\r\n            type=\"email\"\r\n            placeholder=\"Email\"\r\n            value={email}\r\n            onChange={(e) => setEmail(e.target.value)}\r\n            required\r\n            className=\"w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400\"\r\n          />\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Mobile\"\r\n            value={mobile}\r\n            onChange={(e) => setMobile(e.target.value)}\r\n            required\r\n            className=\"w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400\"\r\n          />\r\n          <input\r\n            type=\"password\"\r\n            placeholder=\"Password\"\r\n            value={password}\r\n            onChange={(e) => setPassword(e.target.value)}\r\n            required\r\n            className=\"w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400\"\r\n          />\r\n          <button\r\n            type=\"submit\"\r\n            className=\"w-full bg-blue-600 text-white font-semibold py-3 rounded-lg hover:bg-blue-700 transition duration-300\"\r\n          >\r\n            Add Agent\r\n          </button>\r\n        </form>\r\n\r\n        {/* Agents List */}\r\n        <h2 className=\"text-2xl font-bold text-gray-700 mt-8 mb-4\">Agents List</h2>\r\n        <ul className=\"w-full space-y-2\">\r\n          {agents.length > 0 ? (\r\n            agents.map((agent) => (\r\n              <li\r\n                key={agent._id}\r\n                className=\"bg-gray-100 p-3 rounded-lg shadow-md flex justify-between items-center\"\r\n              >\r\n                <span className=\"font-medium text-gray-800\">{agent.name}</span>\r\n                <span className=\"text-gray-600\">{agent.email}</span>\r\n                <span className=\"text-gray-600\">{agent.mobile}</span>\r\n              </li>\r\n            ))\r\n          ) : (\r\n            <p className=\"text-gray-500 text-center\">No agents found</p>\r\n          )}\r\n        </ul>\r\n\r\n        {/* Back Button */}\r\n        <button\r\n          onClick={() => navigate(\"/dashboard\")}\r\n          className=\"w-full mt-6 bg-gray-600 text-white font-semibold py-3 rounded-lg hover:bg-gray-700 transition duration-300\"\r\n        >\r\n          Back to Dashboard\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Agents;\r\n"
        }
    ]
}